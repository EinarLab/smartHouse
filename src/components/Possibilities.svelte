<script>
  import Possibility from "./Possibility.svelte";
  import light from "$lib/img/possibilities/light.jpg";
  import climat from "$lib/img/possibilities/climat.jpg";
  import security from "$lib/img/possibilities/security.jpg";
  import devices from "$lib/img/possibilities/devices.jpg";
  import multimedia from "$lib/img/possibilities/multimedia.jpg";
  import smarthouse from "$lib/img/possibilities/smarthouse.jpg";

  const categories = {
    "Ð­Ð»ÐµÐºÑ‚Ñ€Ð¾ÑÐ½Ð°Ð±Ð¶ÐµÐ½Ð¸Ðµ": {
      list: [
        "Ð­Ð»ÐµÐºÑ‚Ñ€Ð¾ÑÐ½Ð°Ð±Ð¶ÐµÐ½Ð¸Ðµ â€” Ð¾ÑÐ½Ð¾Ð²Ð° ÐºÐ¾Ð¼Ñ„Ð¾Ñ€Ñ‚Ð° Ð¸ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð²Ð°ÑˆÐµÐ³Ð¾ Ð´Ð¾Ð¼Ð°. Ð¡Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÑŽÑ‚ ÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾Ðµ Ð¸ Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾Ðµ Ð¿Ð¸Ñ‚Ð°Ð½Ð¸Ðµ Ð²ÑÐµÑ… ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð², ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ ÑƒÐ´Ð¾Ð±Ð½ÑƒÑŽ Ð¸ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½ÑƒÑŽ ÑÑ€ÐµÐ´Ñƒ Ð´Ð»Ñ Ð¶Ð¸Ð·Ð½Ð¸.",
        "âš¡ Ð¡Ñ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾Ðµ Ð¿Ð¸Ñ‚Ð°Ð½Ð¸Ðµ",
        "ðŸ”‹ Ð­Ð½ÐµÑ€Ð³Ð¾ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð¸ ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸Ñ",
        "ðŸ“Š Ð£Ð¼Ð½Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ Ð¸ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³",
        "ðŸŒ Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ ÑƒÐ¼Ð½Ñ‹Ð¼ Ð´Ð¾Ð¼Ð¾Ð¼",
      ],
      img: light
    },
    "ÐžÐ´Ð½Ð¾Ð»Ð¸Ð½ÐµÐ¹Ð½Ð°Ñ ÑÑ…ÐµÐ¼Ð°": {
      list: [
        "Ð¡Ñ…ÐµÐ¼Ð¾Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ° Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÑƒ Ð¾Ð´Ð½Ð¾Ð»Ð¸Ð½ÐµÐ¹Ð½Ñ‹Ñ… ÑÑ…ÐµÐ¼ Ð¸ ÑÐ¿ÐµÑ†Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ ÑÐ²Ð»ÑÑŽÑ‚ÑÑ Ð¾ÑÐ½Ð¾Ð²Ð¾Ð¹ Ð´Ð»Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¸ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° ÑÐ»ÐµÐºÑ‚Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… ÑÐ¸ÑÑ‚ÐµÐ¼. Ð¢Ð¾Ñ‡Ð½Ñ‹Ðµ ÑÑ…ÐµÐ¼Ñ‹ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÑŽÑ‚ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ðµ Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾ÑÐ½ÐµÑ€Ð³Ð¸Ð¸ Ð¸ ÑƒÐ¿Ñ€Ð¾Ñ‰Ð°ÑŽÑ‚ Ð¾Ð±ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð¾Ð±Ð¾Ñ€ÑƒÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ.",
        "ðŸ“ ÐŸÑ€Ð¾ÐµÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¾Ð´Ð½Ð¾Ð»Ð¸Ð½ÐµÐ¹Ð½Ñ‹Ñ… ÑÑ…ÐµÐ¼",
        "ðŸ“‹ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÐ¿ÐµÑ†Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¹",
        "âš¡ Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾ÑÐ½Ð°Ð±Ð¶ÐµÐ½Ð¸ÐµÐ¼",
        "ðŸ”§ ÐžÐ±ÐµÑÐ¿ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾ÑÑ‚Ð¸ Ð¸ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸",
        "ðŸ› ï¸ ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¸ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²",
      ],
      img: climat
    },
    "ÐÐ²Ñ‚Ð¾Ñ€ÑÐºÐ¸Ð¹ Ð½Ð°Ð´Ð·Ð¾Ñ€": {
      list: [
        "ÐÐ²Ñ‚Ð¾Ñ€ÑÐºÐ¸Ð¹ Ð½Ð°Ð´Ð·Ð¾Ñ€ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÐµÑ‚ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ Ð·Ð° ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸ÐµÐ¼ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸ÑÐ¼ Ð¸ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð°Ð¼. Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»Ð¸ÑÑ‚Ñ‹ ÑÐ»ÐµÐ´ÑÑ‚ Ð·Ð° ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾Ð¼ Ñ€Ð°Ð±Ð¾Ñ‚, ÑÐ¾Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸ÐµÐ¼ Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ Ð¸ ÑÑ€Ð¾ÐºÐ¾Ð², Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ Ð¸Ð·Ð±ÐµÐ¶Ð°Ñ‚ÑŒ Ð¾ÑˆÐ¸Ð±Ð¾Ðº Ð¸ Ð¿Ð¾Ð²Ñ‹ÑÐ¸Ñ‚ÑŒ Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾ÑÑ‚ÑŒ Ð¾Ð±ÑŠÐµÐºÑ‚Ð°.",
        "ðŸ‘· ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ñ€Ð°Ð±Ð¾Ñ‚",
        "ðŸ“‹ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð½Ð¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸",
        "â±ï¸ Ð¡Ð¾Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸Ðµ ÑÑ€Ð¾ÐºÐ¾Ð² Ð¸ ÑÑ‚Ð°Ð¿Ð¾Ð² ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÐµÐ»ÑŒÑÑ‚Ð²Ð°",
        "ðŸ” Ð’Ñ‹ÑÐ²Ð»ÐµÐ½Ð¸Ðµ Ð¸ ÑƒÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð½ÐµÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ð¹",
        "ðŸ¤ Ð’Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ñ Ð¿Ð¾Ð´Ñ€ÑÐ´Ñ‡Ð¸ÐºÐ°Ð¼Ð¸ Ð¸ Ð·Ð°ÐºÐ°Ð·Ñ‡Ð¸ÐºÐ°Ð¼Ð¸",
      ],
      img: security
    },
    "Ð”Ð¸Ð·Ð°Ð¹Ð½ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²": {
      list: [
        "Ð”Ð¸Ð·Ð°Ð¹Ð½ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð² Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÑƒ ÐºÐ¾Ð½Ñ†ÐµÐ¿Ñ†Ð¸Ð¹, Ð¿Ð»Ð°Ð½Ð¾Ð² Ð¸ Ð²Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÑŽÑ‚ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ. Ð¥Ð¾Ñ€Ð¾ÑˆÐ¸Ð¹ Ð´Ð¸Ð·Ð°Ð¹Ð½ ÑƒÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ, ÑÑÑ‚ÐµÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ Ð¸ ÑƒÐ´Ð¾Ð±ÑÑ‚Ð²Ð¾ ÑÐºÑÐ¿Ð»ÑƒÐ°Ñ‚Ð°Ñ†Ð¸Ð¸.",
        "ðŸŽ¨ ÐšÑ€ÐµÐ°Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ ÐºÐ¾Ð½Ñ†ÐµÐ¿Ñ†Ð¸Ð¸",
        "ðŸ“ Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ",
        "ðŸ–¥ï¸ Ð’Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¸ Ð¼Ð¾Ð´ÐµÐ»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ",
        "ðŸ¤ Ð’Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ñ Ð·Ð°ÐºÐ°Ð·Ñ‡Ð¸ÐºÐ¾Ð¼",
        "ðŸ”„ ÐÐ´Ð°Ð¿Ñ‚Ð°Ñ†Ð¸Ñ Ð¸ Ð´Ð¾Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°",
      ],
      img: devices
    },
    "Ð¡Ð±Ð¾Ñ€ÐºÐ° ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ñ‰Ð¸Ñ‚Ð¾Ð²": {
      list: [
        "Ð¡Ð±Ð¾Ñ€ÐºÐ° ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ñ‰Ð¸Ñ‚Ð¾Ð² Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ Ð¼Ð¾Ð½Ñ‚Ð°Ð¶ Ð¸ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ ÑÐ»ÐµÐºÑ‚Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð² Ð´Ð»Ñ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡ÐµÐ½Ð¸Ñ Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾Ð³Ð¾ Ð¸ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾Ð³Ð¾ Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾ÑÐ½ÐµÑ€Ð³Ð¸Ð¸. ÐšÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¹ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ñ‰Ð¸Ñ‚ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÐµÑ‚ Ð·Ð°Ñ‰Ð¸Ñ‚Ñƒ Ð¾Ð±Ð¾Ñ€ÑƒÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¸ ÑƒÐ´Ð¾Ð±ÑÑ‚Ð²Ð¾ ÑÐºÑÐ¿Ð»ÑƒÐ°Ñ‚Ð°Ñ†Ð¸Ð¸ Ð²ÑÐµÐ¹ ÑÐ»ÐµÐºÑ‚Ñ€Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹.",
        "ðŸ”Œ ÐœÐ¾Ð½Ñ‚Ð°Ð¶ ÑÐ»ÐµÐºÑ‚Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð²",
        "ðŸ›¡ï¸ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ñ‰Ð¸Ñ‚Ð½Ñ‹Ñ… ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²",
        "âš™ï¸ ÐšÐ¾Ð¼Ð¿Ð¾Ð½Ð¾Ð²ÐºÐ° Ð¸ Ð¼Ð°Ñ€ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ° ÑÑ…ÐµÐ¼",
        "ðŸ”§ Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ Ð½Ð°Ð»Ð°Ð´ÐºÐ°",
        "ðŸ“‹ Ð¡Ð¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ Ð½Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ð²Ð°Ð¼ Ð¸ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð°Ð¼",
      ],
      img: multimedia
    },
    "Ð£Ð¼Ð½Ñ‹Ð¹ Ð´Ð¾Ð¼": {
      list: [
        "ÐŸÑ€ÐµÐ´Ð»Ð°Ð³Ð°ÐµÐ¼ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ ÑƒÐ¼Ð½Ð¾Ð³Ð¾ Ð´Ð¾Ð¼Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð°ÑŽÑ‚ÑÑ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ñ‚Ð¾Ð¹ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸, ÑÐ½ÐµÑ€Ð³Ð¾ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¸ ÑˆÐ¸Ñ€Ð¾ÐºÐ¸Ð¼Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑÐ¼Ð¸ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸. Ð‘Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ñ Ð±ÐµÑÐ¿Ñ€Ð¾Ð²Ð¾Ð´Ð½Ñ‹Ð¼ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸ÑÐ¼ Ð¸ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹, ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð° Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÑŽÑ‚ ÑƒÐ´Ð¾Ð±Ð½Ð¾Ðµ Ð¸ Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾Ðµ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¾ÑÐ²ÐµÑ‰ÐµÐ½Ð¸ÐµÐ¼ Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ð¼Ð¸ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð¿Ñ€Ð¸Ð±Ð¾Ñ€Ð°Ð¼Ð¸. ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ Ð² Ð Ð¾ÑÑÐ¸Ð¸ Ð¸ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ð¾Ñ‚ÐµÑ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»Ñ Ð´ÐµÐ»Ð°ÑŽÑ‚ ÑÑ‚Ð¸ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¸Ð²Ð»ÐµÐºÐ°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð´Ð»Ñ ÑˆÐ¸Ñ€Ð¾ÐºÐ¾Ð³Ð¾ ÐºÑ€ÑƒÐ³Ð° Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹. Ð¯Ð²Ð»ÑÐµÐ¼ÑÑ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸Ñ†Ð¸Ñ€Ð¾Ð²Ð²Ð°Ð½Ð½Ñ‹Ð¼Ð¸ Ð¿Ð°Ñ€Ñ‚Ð½ÐµÑ€Ð°Ð¼Ð¸ Hite Pro.",
        "ðŸ“¶ Ð“Ð¸Ð±ÐºÐ¾ÑÑ‚ÑŒ Ð² Ñ€Ð°Ð·Ð¼ÐµÑ‰ÐµÐ½Ð¸Ð¸",
        "ðŸ’» Ð›ÐµÐ³ÐºÐ¾ÑÑ‚ÑŒ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð½Ð¾Ð²Ñ‹Ñ… ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²",
        "ðŸ’¬ Ð£Ð´Ð°Ð»ÐµÐ½Ð½Ð¾Ðµ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ",
        "ðŸ”§ ÐŸÑ€Ð¾ÑÑ‚Ð¾Ñ‚Ð° Ð¾Ð±ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ",
        "ðŸ“¡ Ð¨Ð¸Ñ€Ð¾ÐºÐ¸Ð¹ Ð²Ñ‹Ð±Ð¾Ñ€ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²",
      ],
      img: smarthouse
    }
  };

  let selectedCategory = "Ð­Ð»ÐµÐºÑ‚Ñ€Ð¾ÑÐ½Ð°Ð±Ð¶ÐµÐ½Ð¸Ðµ";
  let openedIndex = null;
  let isVisible = true;

  function selectCategory(event) {
    const target = event.target.closest('.possibilities__categories_item');
    if (!target) return;
    const category = target.textContent.trim();
    if (categories[category] && category !== selectedCategory) {
      isVisible = false;
      setTimeout(() => {
        selectedCategory = category;
        isVisible = true;
      }, 300);
      openedIndex = null;
    }
  }

  function toggleMobile(index) {
    openedIndex = openedIndex === index ? null : index;
  }
</script>

<!-- Ð”ÐµÑÐºÑ‚Ð¾Ð¿ Ð²ÐµÑ€ÑÐ¸Ñ -->
<section class="possibilities animated desktop" on:click={selectCategory}>
  <div class="possibilities__categories animated">
    {#each Object.keys(categories) as category}
      <div
        class="possibilities__categories_item animated"
        class:selected={selectedCategory === category}
      >
        <p class="possibilities__categories_item-header">{category}</p>
      </div>
    {/each}
  </div>

  <div class="possibility-wrapper" class:visible={isVisible}>
    <Possibility
      listBenefists={categories[selectedCategory].list}
      img={categories[selectedCategory].img}
    />
  </div>
</section>

<!-- ÐœÐ¾Ð±Ð¸Ð»ÑŒÐ½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ -->
<section class="possibilities mobile">
  <div class="possibilities__mobile_container">
    {#each Object.entries(categories) as [category, data], i}
      <div
        class="possibilities__categories_item mobile-item"
        on:click={() => toggleMobile(i)}
        class:selected={openedIndex === i}
        role="button"
        tabindex="0"
        aria-expanded={openedIndex === i}
        aria-controls={"desc-" + i}
        on:keydown={(e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            toggleMobile(i);
          }
        }}
      >
        <p class="possibilities__categories_item-header">{category}</p>
      </div>

      <div
        id={"desc-" + i}
        class="possibilities__description_mobile"
        class:show={openedIndex === i}
        role="region"
        aria-live="polite"
      >
        <div class="possibilities__description_item">
          {#each data.list as line}
            <p class="description__text_item">{line}</p>
          {/each}
          <img src={data.img} alt={category} class="possibilities__description_img" />
        </div>
      </div>
    {/each}
  </div>
</section>

<style>
  .possibilities {
    margin-bottom: 5vw;
    width: 100%;
    height: auto;
    display: flex;
    flex-direction: column;
    transition: 0.2s;
  }

  .possibilities__categories {
    width: 100%;
    height: fit-content;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .possibilities__categories_item {
    background-color: var(--body-background-color);
    box-shadow: 0px 0px 5px 0px var(--accent-color);
    color: var(--text-color);
    cursor: pointer;
    transition: background-color 0.3s, color 0.3s, transform 0.2s;
    user-select: none;
    width: 20vw;
    height: 5vw;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.5vw;
  }

  .possibilities__categories_item-header {
    display: inline;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .possibilities__categories_item:hover {
    background-color: var(--accent-color);
    color: #fff;
  }

  .possibilities__categories_item.selected {
    background-color: var(--secondary-color);
    color: var(--text-color);
  }

  .possibility-wrapper {
    opacity: 0;
    transition: opacity 0.3s ease;
    will-change: opacity;
  }
  .possibility-wrapper.visible {
    opacity: 1;
  }

  .desktop {
    display: block;
  }

  .mobile {
    display: none;
  }

  .possibilities__mobile_container {
    display: flex;
    flex-direction: column;
    width: 100%;
  }

  .possibilities__categories_item.mobile-item {
    width: 100%;
    min-height: 3.5rem;
    font-size: 1.1rem;
    padding: 0.8rem 1rem;
    margin-bottom: 0;
    border-radius: 0;
    box-shadow: 0px 0px 3px 0px var(--accent-color);
    border-bottom: 1px solid var(--accent-color);
  }

  .possibilities__categories_item.mobile-item.selected {
    border-bottom: none;
  }

  .possibilities__description_mobile {
    background-color: var(--secondary-color);
    box-shadow: 0px 0px 5px 0px var(--accent-color);
    border-top: none;
    border-radius: 0 0 10px 10px;
    opacity: 0;
    visibility: hidden;
    max-height: 0;
    overflow: hidden;
    transition: opacity 0.4s ease, visibility 0.4s ease, max-height 0.4s ease;
  }

  .possibilities__description_mobile.show {
    opacity: 1;
    visibility: visible;
    max-height: 1000px;
    overflow: visible;
    margin-bottom: 1rem;
  }

  .possibilities__description_item {
    padding: 1rem;
    background: none;
    box-shadow: none;
  }

  .description__text_item {
    font-size: 0.9rem;
    line-height: 1.4rem;
    margin: 0.25rem 0;
    color: var(--text-color);
  }

  .possibilities__description_img {
    margin-top: 1rem;
    max-width: 100%;
    height: auto;
    border-radius: 10px;
    box-shadow: 0 0 5px var(--accent-color);
  }

  @media (max-width: 600px) {
    .desktop {
      display: none;
    }
    .mobile {
      display: block;
      padding: 0 1rem;
    }

    .possibilities__description_item {
      width: 100%;
      display: block;
    }
  }
</style>
